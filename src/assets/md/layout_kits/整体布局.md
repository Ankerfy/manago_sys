帮我修改如下样式代码，以实现点击了折叠菜单图标，可以折叠菜单同时，响应式变化菜单与头部、热搜词条走马灯及主体内容区域的宽度：

```css
.common-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: #f8f8f8;
  background-color: var(--color-bg-overlay);
}

/* 侧边栏 固定 */
.lay-sidebar {
  position: fixed;
  width: 200px;
  z-index: 100;
}

/* 主容器 避开侧边栏 */
.lay-main-container {
  display: flex;
  margin-left: 200px;
  width: calc(100% - 200px);
  flex: 1;
  flex-direction: column;
}

.is-collapse.lay-header,
.is-collapse.lay-hot-search,
.is-collapse.lay-main-content {
  margin-left: 63px;
  width: calc(100% - 63px);
}

/* 头部 固定 */
.lay-header {
  padding: 0;
  width: calc(100% - 200px);
  position: fixed;
  z-index: 99;
}

/* 热搜词条 走马灯 */
.lay-hot-search {
  display: flex;
  height: 40px;
  width: calc(100% - 200px);
  padding: 0 10px;
  justify-content: flex-start;
  align-items: center;
  border-top: 1px solid #cdcdcd;
  background-color: var(--el-bg-color-overlay);
  position: fixed;
  z-index: 98;
  margin-top: 48px;
}

.bell-icon {
  margin: 0 4px;
  padding: 10px;
}

.el-carousel__item span {
  color: #475669;
  opacity: 0.75;
  line-height: 40px;
  margin: 0;
  text-align: center;
  font-size: 14px;
}

.lay-main-content {
  flex: 1;
  border: 2px solid #cdcdcd;
  margin-top: 90px;
  padding: 10px;
  overflow-y: auto;
  overflow-x: hidden;
  width: 100%;
  border-radius: 8px;
}
```

你当前的样式代码已经实现了基本布局，但存在以下几个关键问题：

---

### ❌ 存在的问题

1. **`.is-collapse.lay-header` 选择器写法错误**

   ```css
   .is-collapse.lay-header /* 错误：表示同时拥有 is-collapse 和 lay-header 的一个元素 */
   ```

   实际上你需要的是：

   ```css
   .is-collapse .lay-header /* 正确：表示 is-collapse 下的 lay-header 元素 */
   ```

2. **响应式宽度变化未使用 CSS 变量或过渡动画**  
   折叠/展开时，`margin-left` 和 `width` 突变，缺乏平滑过渡。

3. **结构耦合严重，维护困难**  
   所有组件都依赖侧边栏宽度（200px / 63px），修改一处需改多处。

4. **响应式适配缺失**  
   没有考虑移动端或小屏设备下的表现。

---

### ✅ 优化目标

- ✅ 修复选择器语法错误
- ✅ 使用 **CSS 自定义属性（变量）** 统一管理宽度
- ✅ 添加 `transition` 实现平滑动画
- ✅ 使用类名控制整体布局状态（如 `.sidebar-collapse`）
- ✅ 实现点击折叠后，**头部、走马灯、主体内容自动响应式调整宽度**

---

### ✅ 修改后的完整样式代码（推荐）

```css
/* ========== 布局根容器 ========== */
.common-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: var(--color-bg-overlay, #f8f8f8);
  /* 定义 CSS 变量，便于统一管理 */
  --sidebar-width: 200px;
  --sidebar-collapsed-width: 63px;
  --transition-speed: 0.3s;
}

/* ========== 侧边栏 ========== */
.lay-sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: var(--sidebar-width);
  height: 100vh;
  z-index: 100;
  transition: width var(--transition-speed) ease;
  overflow-x: hidden;
  background-color: #fff;
  border-right: 1px solid #eaeaea;
}

/* 侧边栏折叠状态 */
.common-layout.sidebar-collapse .lay-sidebar {
  width: var(--sidebar-collapsed-width);
}

/* ========== 主容器 ========== */
.lay-main-container {
  display: flex;
  margin-left: var(--sidebar-width);
  width: calc(100% - var(--sidebar-width));
  flex: 1;
  flex-direction: column;
  transition:
    margin-left var(--transition-speed) ease,
    width var(--transition-speed) ease;
}

/* 当整体处于 collapse 状态时，主容器变窄 */
.common-layout.sidebar-collapse .lay-main-container {
  margin-left: var(--sidebar-collapsed-width);
  width: calc(100% - var(--sidebar-collapsed-width));
}

/* ========== 头部 ========== */
.lay-header {
  padding: 0;
  width: calc(100% - var(--sidebar-width));
  position: fixed;
  top: 0;
  left: var(--sidebar-width);
  height: 48px;
  z-index: 99;
  background-color: #fff;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  transition:
    left var(--transition-speed) ease,
    width var(--transition-speed) ease;
}

.common-layout.sidebar-collapse .lay-header {
  left: var(--sidebar-collapsed-width);
  width: calc(100% - var(--sidebar-collapsed-width));
}

/* ========== 热搜走马灯 ========== */
.lay-hot-search {
  display: flex;
  height: 40px;
  width: calc(100% - var(--sidebar-width));
  padding: 0 10px;
  justify-content: flex-start;
  align-items: center;
  border-top: 1px solid #cdcdcd;
  background-color: var(--el-bg-color-overlay);
  position: fixed;
  top: 48px; /* 紧贴头部下方 */
  left: var(--sidebar-width);
  z-index: 98;
  transition:
    left var(--transition-speed) ease,
    width var(--transition-speed) ease;
}

.common-layout.sidebar-collapse .lay-hot-search {
  left: var(--sidebar-collapsed-width);
  width: calc(100% - var(--sidebar-collapsed-width));
}

/* 走马灯文字样式 */
.bell-icon {
  margin: 0 4px;
  padding: 10px;
}

.el-carousel__item span {
  color: #475669;
  opacity: 0.75;
  line-height: 40px;
  margin: 0;
  text-align: center;
  font-size: 14px;
}

/* ========== 主体内容区域 ========== */
.lay-main-content {
  flex: 1;
  border: 2px solid #cdcdcd;
  margin-top: 90px;
  padding: 10px;
  overflow-y: auto;
  overflow-x: hidden;
  width: 100%;
  border-radius: 8px;
  /* 注意：lay-main-content 在 lay-main-container 内，已继承宽度，无需额外设置 */
}
```

---

### ✅ 对应的模板结构建议（Vue）

```vue
<template>
  <div class="common-layout" :class="{ 'sidebar-collapse': !isCollapse }">
    <!-- 侧边栏 -->
    <aside class="lay-sidebar">
      <!-- 菜单内容 -->
      <el-menu :collapse="!isCollapse">
        <!-- 菜单项 -->
      </el-menu>
    </aside>

    <!-- 主容器 -->
    <main class="lay-main-container">
      <!-- 头部 -->
      <header class="lay-header">Header</header>

      <!-- 热搜走马灯 -->
      <div class="lay-hot-search">
        <el-icon class="bell-icon"><Bell /></el-icon>
        <el-carousel height="40px" direction="vertical" :autoplay="true">
          <el-carousel-item v-for="item in hotSearches" :key="item">
            <span>{{ item }}</span>
          </el-carousel-item>
        </el-carousel>
      </div>

      <!-- 主体内容 -->
      <div class="lay-main-content">
        <slot />
      </div>
    </main>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const isCollapse = ref(false) // 控制折叠状态
const hotSearches = ['热搜1', '热搜2', '热搜3']
</script>
```

---

### ✅ 关键改进点总结

| 改进项            | 说明                                                                              |
| ----------------- | --------------------------------------------------------------------------------- |
| ✅ **CSS 变量**   | 使用 `--sidebar-width` 和 `--sidebar-collapsed-width` 统一配置，便于主题化        |
| ✅ **正确选择器** | 使用 `.common-layout.sidebar-collapse .lay-header` 而非 `.is-collapse.lay-header` |
| ✅ **平滑过渡**   | 所有 `margin`, `width`, `left` 都添加了 `transition` 动画                         |
| ✅ **语义清晰**   | 使用 `.sidebar-collapse` 作为全局状态类，控制整个布局                             |
| ✅ **响应式基础** | 若需支持移动端，可在此基础上加 `@media` 查询                                      |

---

### ✅ 效果说明

当点击折叠按钮，执行：

```js
isCollapse.value = false // 折叠
```

→ 触发 `.common-layout` 添加 `sidebar-collapse` 类  
→ 所有相关组件（侧边栏、头部、走马灯、主容器）自动收缩并动画过渡

---

### ✅ 后续扩展建议

- 使用 `prefers-reduced-motion` 减少动画对敏感用户的影响
- 添加小屏下侧边栏抽屉模式（Drawer）
- 将变量抽到 `:root` 或 Element Plus 主题变量中统一管理

---

这样修改后，你的布局将更加**健壮、可维护、视觉流畅**，适合企业级后台系统使用。
