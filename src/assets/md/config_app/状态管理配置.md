åœ¨ Vue 3 é¡¹ç›®ä¸­ï¼ŒçŠ¶æ€ç®¡ç†æ–‡ä»¶ï¼ˆå¦‚ä½¿ç”¨ **Pinia** æˆ– **Vuex**ï¼‰çš„å­˜æ”¾ä½ç½®å’Œå‘½åè§„åˆ™å¹¶æ²¡æœ‰ç»å¯¹ç»Ÿä¸€çš„å¼ºåˆ¶æ ‡å‡†ï¼Œä½†æ ¹æ®ç¤¾åŒºä¸»æµå®è·µï¼ˆå°¤å…¶æ˜¯ [Vue å®˜æ–¹é£æ ¼æŒ‡å—](https://vuejs.org/style-guide/) å’Œå¤§å‹é¡¹ç›®ç»“æ„ï¼‰ï¼Œä»¥ä¸‹æ˜¯æ¨èçš„ **æœ€ä½³å®è·µ**ã€‚

---

## ğŸ“ ä¸€ã€å­˜æ”¾ç›®å½•ï¼ˆRecommended Directoryï¼‰

### âœ… æ¨èè·¯å¾„ï¼š`src/stores/`

```bash
src/
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ index.ts           # ï¼ˆå¯é€‰ï¼‰ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰ store
â”‚   â”œâ”€â”€ user.ts            # ç”¨æˆ·ç›¸å…³çŠ¶æ€
â”‚   â”œâ”€â”€ cart.ts            # è´­ç‰©è½¦çŠ¶æ€
â”‚   â””â”€â”€ app.ts             # å…¨å±€åº”ç”¨çŠ¶æ€ï¼ˆå¦‚ä¸»é¢˜ã€ä¾§è¾¹æ æŠ˜å ï¼‰
â”œâ”€â”€ views/
â”œâ”€â”€ components/
â”œâ”€â”€ assets/
â””â”€â”€ main.ts
```

> ğŸ”” **è¯´æ˜**ï¼š
>
> - `stores/` æ˜¯ Pinia å®˜æ–¹æ–‡æ¡£å’Œ Vite + Vue é¡¹ç›®æ¨¡æ¿ä¸­å¹¿æ³›é‡‡ç”¨çš„ç›®å½•åã€‚
> - ä½¿ç”¨å¤æ•° `stores` è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªâ€œå¤šä¸ª store çš„é›†åˆâ€ï¼Œç¬¦åˆè¯­ä¹‰ã€‚
> - å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ **Vuex**ï¼Œä¹Ÿå¯ä»¥ç”¨ `store/`ï¼ˆå•æ•°ï¼‰ï¼Œä½† Pinia æ›´æ¨è `stores/`ã€‚

---

### âŒ ä¸æ¨èçš„ç›®å½•

| ç›®å½•                    | åŸå›                                                      |
| ----------------------- | -------------------------------------------------------- |
| `src/store/`            | å•æ•°å®¹æ˜“è¯¯è§£ä¸ºåªæœ‰ä¸€ä¸ª storeï¼Œä¸åˆ©äºæ‰©å±•                 |
| `src/utils/store.js`    | `utils` é€šå¸¸ç”¨äºå·¥å…·å‡½æ•°ï¼ŒçŠ¶æ€ç®¡ç†æ˜¯æ ¸å¿ƒé€»è¾‘ï¼Œä¸åº”æ”¾è¿™é‡Œ |
| `src/components/store/` | ç»„ä»¶ç›®å½•ä¸åº”åŒ…å«å…¨å±€çŠ¶æ€                                 |
| `src/services/state.js` | `services` é€šå¸¸ç”¨äº API è¯·æ±‚ï¼Œä¸çŠ¶æ€ç®¡ç†èŒè´£åˆ†ç¦»         |

---

## ğŸ“ äºŒã€å‘½åè§„åˆ™ï¼ˆNaming Conventionï¼‰

### âœ… æ–‡ä»¶å‘½åï¼š**kebab-case** æˆ– **camelCase**

#### æ¨è 1ï¼škebab-caseï¼ˆæ›´æ¸…æ™°ï¼Œæ¨èï¼‰

```bash
user-info.ts
shopping-cart.ts
app-config.ts
theme-mode.ts
```

#### æ¨è 2ï¼šcamelCaseï¼ˆTypeScript é¡¹ç›®å¸¸ç”¨ï¼‰

```bash
userInfo.ts
shoppingCart.ts
appConfig.ts
themeMode.ts
```

> âš ï¸ é¿å…ä½¿ç”¨ `PascalCase`ï¼ˆå¦‚ `UserInfo.ts`ï¼‰ï¼Œå› ä¸ºå®ƒé€šå¸¸ç”¨äºç»„ä»¶æˆ–ç±»ã€‚

---

### âœ… Store å˜é‡å‘½åï¼š**useXxxStore**ï¼ˆPinia çº¦å®šï¼‰

è¿™æ˜¯ **Pinia çš„å®˜æ–¹çº¦å®š**ï¼Œå¿…é¡»ä»¥ `use` å¼€å¤´ï¼Œè¿”å›ä¸€ä¸ª store å®ä¾‹ã€‚

```ts
// stores/user.ts
import { defineStore } from 'pinia'

export const useUserStore = defineStore('user', {
  // state, actions, getters
})
```

```ts
// stores/app.ts
export const useAppStore = defineStore('app', { ... })
```

```ts
// stores/shopping-cart.ts
export const useShoppingCartStore = defineStore('shoppingCart', { ... })
```

> ğŸ”‘ å…³é”®ç‚¹ï¼š
>
> - âœ… å¿…é¡»ä»¥ `use` å¼€å¤´ï¼ˆç¬¦åˆ Composition API é£æ ¼ï¼‰
> - âœ… ä»¥ `Store` ç»“å°¾ï¼Œæ˜ç¡®è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª store
> - âœ… åç§°è¯­ä¹‰æ¸…æ™°ï¼Œé¿å… `index.ts`ã€`main.ts` è¿™ç§æ¨¡ç³Šå‘½å

---

## ğŸ§© ä¸‰ã€æ¨¡å—åŒ–ç»„ç»‡å»ºè®®

### 1. æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼ˆæ¨èï¼‰

```bash
stores/
â”œâ”€â”€ user.ts          # ç”¨æˆ·ç™»å½•ã€æƒé™
â”œâ”€â”€ cart.ts          # è´­ç‰©è½¦
â”œâ”€â”€ order.ts         # è®¢å•
â”œâ”€â”€ product.ts       # å•†å“åˆ—è¡¨
â”œâ”€â”€ app.ts           # å…¨å±€ UI çŠ¶æ€ï¼ˆå¦‚ loadingã€sidebarã€themeï¼‰
â””â”€â”€ index.ts         # ç»Ÿä¸€å¯¼å‡ºï¼ˆå¯é€‰ï¼‰
```

### 2. å¤æ‚ store å¯æ‹†åˆ†å­æ¨¡å—

å¦‚æœæŸä¸ª store å¾ˆå¤§ï¼Œå¯ä»¥åˆ›å»ºå­ç›®å½•ï¼š

```bash
stores/
â””â”€â”€ user/
    â”œâ”€â”€ index.ts
    â”œâ”€â”€ profile.ts
    â”œâ”€â”€ settings.ts
    â””â”€â”€ actions.ts
```

---

## ğŸŒ å››ã€åœ¨ `main.ts` ä¸­æ³¨å†Œï¼ˆPinia ç¤ºä¾‹ï¼‰

```ts
// main.ts
import { createApp } from 'vue'
import { createPinia } from 'pinia' // å¼•å…¥ Pinia
import App from './App.vue'

const pinia = createPinia()
const app = createApp(App)

app.use(pinia) // æ³¨å†Œ Pinia
app.mount('#app')
```

> æ³¨æ„ï¼šPinia ä¸éœ€è¦åƒ Vuex é‚£æ ·â€œæ³¨å…¥â€åˆ°æ¯ä¸ªç»„ä»¶ï¼Œåªéœ€åœ¨ `main.ts` ä¸­ `app.use(pinia)` å³å¯ã€‚

---

## ğŸ’¡ äº”ã€ä½¿ç”¨ç¤ºä¾‹

```ts
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
<script setup>
import { useUserStore } from '@/stores/user'

const userStore = useUserStore()

// è®¿é—® state
console.log(userStore.name)

// è°ƒç”¨ action
userStore.login('admin', '123456')

// ä¿®æ”¹ state
userStore.setToken('xxx')
</script>
```

---

## âœ… æ€»ç»“ï¼šæœ€ä½³å®è·µä¸€è§ˆ

| é¡¹ç›®             | æ¨èåšæ³•                                                        |
| ---------------- | --------------------------------------------------------------- |
| **ç›®å½•å**       | `src/stores/`ï¼ˆå¤æ•°ï¼‰                                           |
| **æ–‡ä»¶å‘½å**     | `kebab-case` æˆ– `camelCase`ï¼Œå¦‚ `user-info.ts` æˆ– `userInfo.ts` |
| **Store å˜é‡å** | `useXxxStore`ï¼Œå¦‚ `useUserStore()`                              |
| **æ¨¡å—åˆ’åˆ†**     | æŒ‰ä¸šåŠ¡åŠŸèƒ½æ‹†åˆ†ï¼Œé¿å…å¤§è€Œå…¨çš„ store                              |
| **æ³¨å†Œæ–¹å¼**     | `main.ts` ä¸­ `app.use(createPinia())`                           |

---

### ğŸ ä¸€å¥è¯å£è¯€

> **â€œç›®å½•ç”¨ `stores`ï¼Œæ–‡ä»¶ç”¨å°å†™ï¼Œå˜é‡ `useXxxStore`ï¼ŒæŒ‰åŠŸèƒ½æ¥æ‹†åˆ†ã€‚â€**

éµå¾ªè¿™äº›è§„èŒƒï¼Œä½ çš„ Vue 3 é¡¹ç›®çŠ¶æ€ç®¡ç†å°†æ›´åŠ æ¸…æ™°ã€å¯ç»´æŠ¤ã€æ˜“äºå›¢é˜Ÿåä½œã€‚
